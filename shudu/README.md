# 数独生成器

一个功能完整、界面美观的数独题目生成器，支持多种宫格规格和难度等级。

## 功能特性

### 🎯 核心功能
- **多种宫格规格**：支持 4×4、6×6、9×9 三种规格
- **智能记忆**：自动记住用户选择的宫格大小偏好
- **三种难度**：简单、中等、困难三个难度等级
- **答案控制**：默认隐藏答案，点击按钮展开/收起
- **题目刷新**：一键生成新的数独题目
- **历史记录**：自动保存最近10次的题目和答案

### 🎮 游戏体验
- **实时验证**：查看答案后显示输入正确性提示
- **计时功能**：记录完成游戏所用时间
- **成功庆祝**：完成时展示精美弹窗、游戏时长统计和烟花动画
- **音效反馈**：成功完成时播放庆祝音效
- **震动提示**：错误输入时的触觉反馈（支持的设备）

### 📱 响应式设计
- **移动端优化**：专门的数字输入面板，防止虚拟键盘弹出
- **智能交互**：支持键盘导航和触摸操作
- **焦点管理**：清晰的焦点状态和导航体验
- **适配多屏**：在手机、平板、电脑上都有良好体验

### 💾 数据持久化
- **本地存储**：使用浏览器 localStorage 保存数据
- **用户偏好**：记住宫格大小选择
- **历史记录**：保存最近10次题目，包含时间戳和难度信息
- **重新加载**：支持载入历史题目继续游戏

### 🎨 美观界面
- **现代设计**：渐变背景、圆角设计、阴影效果
- **流畅动画**：按钮悬停、错误提示、成功庆祝动画
- **视觉反馈**：输入状态、验证结果的清晰视觉提示
- **无障碍支持**：符合无障碍设计标准

## 技术特点

- **纯 JavaScript 实现**：不依赖任何第三方框架
- **算法优化**：使用回溯算法生成高质量数独题目
- **性能优化**：异步生成避免UI阻塞
- **兼容性好**：支持现代浏览器和移动设备
- **代码结构清晰**：模块化设计，易于维护和扩展

## 文件结构

```
shudu/
├── index.html      # 主HTML文件
├── style.css       # 样式文件
├── script.js       # JavaScript核心逻辑
├── favicon.svg     # 网站图标
└── README.md       # 说明文档
```

## 使用方法

1. 在浏览器中打开 `index.html` 文件
2. 选择宫格规格（4×4、6×6、9×9）
3. 选择难度等级（简单、中等、困难）
4. 点击"生成新题目"开始游戏
5. 在空白格子中填入数字
6. 点击"显示答案"查看完整解答
7. 查看历史记录重新游戏之前的题目

## 操作说明

### 桌面端
- **数字输入**：键盘输入1-9数字
- **清除**：按Backspace、Delete或0键
- **导航**：使用方向键在格子间移动
- **焦点**：点击格子获得焦点

### 移动端
- **数字输入**：点击格子弹出数字面板
- **选择数字**：点击面板上的数字按钮
- **清除**：点击面板上的"清除"按钮
- **关闭面板**：点击面板外区域或选择数字后自动关闭

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+
- 移动端浏览器

## 开发说明

该项目使用纯前端技术开发，所有数据存储在浏览器本地，无需服务器支持。代码结构清晰，注释完整，便于学习和二次开发。

### 主要算法
- **数独生成**：使用回溯算法填充完整网格
- **题目创建**：根据难度随机移除数字
- **验证逻辑**：检查行、列、子宫格的唯一性约束
- **子宫格计算**：动态计算不同规格的子宫格维度

### 存储格式
```javascript
// 用户偏好
localStorage.setItem('sudoku_preferred_size', '9');

// 历史记录
{
  id: timestamp,
  timestamp: '2024-01-01 12:00:00',
  size: 9,
  difficulty: 'medium',
  puzzle: [[0,1,2,...], ...],
  solution: [[1,2,3,...], ...]
}
```

享受数独游戏的乐趣！🎉